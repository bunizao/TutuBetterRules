# > tutuçš„surgeé…ç½®-**é’æ˜¥ç‰ˆ** æ¬¢è¿Žä½¿ç”¨
# > é…ç½®ä¸‹è½½ð”ð‘ð‹ï¼š https://raw.githubusercontents.com/bunizao/TutuBetterRules/tutu/Surge/Surge_lite.conf
# > ä½¿ç”¨æ•™ç¨‹æŸ¥çœ‹ï¼šhttps://github.com/bunizao/TutuBetterRules/blob/tutu/Surge/README.md
# > èŠ±æ ·å­—ä½“ç”Ÿæˆï¼š https://qwerty.dev/fancy-font-generator
# > æœºåœºè½¬ä¹‰ð„ðð‚ðŽðƒð„ï¼š https://www.urlencoder.org
# > æ›´æ–°é€šçŸ¥telegramé¢‘é“ï¼šhttps://t.me/hututu00
# > ð•ðŸ.ðŸ.ðŸŽ



# å»ºè®®å¼•ç”¨ä»¥ä¸‹æ¨¡å—å¢žå¼ºé…ç½®ï¼š
# https://raw.githubusercontents.com/VirgilClyne/GetSomeFries/main/sgmodule/General.sgmodule //Skip-Proxy å¢žå¼º
# https://github.com/bunizao/TutuBetterRules/blob/tutu/Surge/module/FunScript.sgmodule?raw=true // ä¸€äº›ç ´è§£åˆé›† tutuç»´æŠ¤æŒç»­æ›´æ–°
# https://github.com/bunizao/TutuBetterRules/blob/tutu/Surge/module/RewritePLUS.sgmodule?raw=true //é‡å†™åŽ»å¹¿å‘Šçš„åˆé›† tutuç»´æŠ¤æŒç»­æ›´æ–°
# https://github.com/bunizao/TutuBetterRules/blob/tutu/Surge/module/Tiktok-UnlockTW.sgmodule?raw=true //TikTokè§£é”
# > æœ¬é…ç½®è‡ªå¸¦ Sub-Store & Boxjs ä¸¤ä¸ªååˆ†å¥½ç”¨çš„å·¥å…·ï¼Œä¸å¿…é‡æ–°å¼•ç”¨ï¼Œä»¥å…é€ æˆé‡å¤ã€‚

[General]
# General
http-listen = 0.0.0.0:8888
socks5-listen = 0.0.0.0:8889
external-controller-access = tutu@0.0.0.0:6170
force-http-engine-hosts = boxjs.com, boxjs.net

# Lateracy
internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 3
ipv6 = true
show-error-page-for-reject = true

# DNS
hijack-dns = *:53
dns-server = 119.29.29.29, 223.5.5.5, system
read-etc-hosts = true
doh-skip-cert-verification = false
encrypted-dns-server = https://dns.alidns.com/dns-query
encrypted-dns-follow-outbound-mode = true

# Advanced
loglevel = notify
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 17.0.0.0/8, localhost, *.local, *.crashlytics.com
exclude-simple-hostnames = true
use-default-policy-if-wifi-not-primary = false

# Others
allow-wifi-access = true
# network-framework = true
http-api = tutu@0.0.0.0:2500
http-api-web-dashboard = true
ipv6-vif = auto

[Replica]
hide-apple-request = true
hide-crashlytics-request = true
hide-udp = false
keyword-filter-type = false

[Proxy]
# æ²¡å•¥äº‹å¯ä»¥åˆ äº†è¿™ä¸ªéƒ¨åˆ†

ð—¡ð—²ð˜…ð—¶ð˜ð—®ð—¹ð—¹ð˜† = ss, 114.514.114.514, 19810, encrypt-method=aes-128-gcm, password=welcome, udp-relay=true, tfo=true


[Proxy Group]
ðŸ³ï¸â€âš§ï¸ = select, ðŸ¼ Mainland, ðð«ð¨ð±ð² //final ç­–ç•¥ç»„
ððžð±ð¢ð­ðšð¥ð¥ð² = select, policy-path=å°†æœ¬æ–‡å­—æ›¿æ¢æˆä½ æœºåœºçš„è®¢é˜…é“¾æŽ¥
ð€ð¥ð¥ð’ðžð«ð¯ðžð« = select, policy-path=https://sub.store/download/collection/Surge, update-interval=0, no-alert=0, hidden=0
ð€ð®ð­ð¨ð¦ðšð­ð¢ðœ = url-test, policy-path=https://sub.store/download/collection/Surge, url=http://cp.cloudflare.com/generate_204, interval=600, tolerance=50
ðð«ð¨ð±ð² = fallback, policy-path=https://sub.store/download/Surge, url=http://cp.cloudflare.com/generate_204, interval=600, tolerance=50, hidden=0
ðŸ‡­ðŸ‡°Hong Kong = url-test, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=æ¸¯|ðŸ‡­ðŸ‡°|é¦™æ¸¯|HK|Hong, interval=200, tolerance=50, update-interval=43200, no-alert=1, hidden=0, include-all-proxies=0
ðŸ‡¨ðŸ‡³Taiwan = url-test, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=å°|ðŸ‡¨ðŸ‡³|ðŸ‡¹ðŸ‡¼|å°æ¹¾|TW|Tai, interval=600, tolerance=50, update-interval=43200, no-alert=1, hidden=0, include-all-proxies=0
ðŸ‡¯ðŸ‡µJapan = url-test, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=æ—¥|ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|JP|Japan, interval=600, tolerance=50, update-interval=43200, no-alert=1, hidden=0, include-all-proxies=0
ðŸ‡¸ðŸ‡¬Singapore = url-test, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=å¡|ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|ç‹®åŸŽ|SG|Singapore, interval=600, tolerance=50, update-interval=43200, no-alert=1, hidden=0, include-all-proxies=0
ðŸ‡ºðŸ‡¸United States = url-test, policy-path=https://sub.store/download/collection/Surge, policy-regex-filter=ç¾Ž|ðŸ‡ºðŸ‡¸|ç¾Žå›½|US|States|American, interval=600, tolerance=50, update-interval=43200, no-alert=1, hidden=0, include-all-proxies=0
ðŸ¼ Mainland = select, DIRECT, hidden=1
ï£¿ ð‘¨ð’‘ð’‘ð’ð’† = select, ðŸ¼ Mainland, ðŸ‡­ðŸ‡°Hong Kong, ðŸ‡¨ðŸ‡³Taiwan, ðŸ‡¸ðŸ‡¬Singapore, ðŸ‡¯ðŸ‡µJapan, ðŸ‡ºðŸ‡¸United States
ðŸ“º ð’ƒð’Šð’ð’Šð’ƒð’Šð’ð’Š = select, ðŸ¼ Mainland, ðŸ‡­ðŸ‡°Hong Kong, ðŸ‡¨ðŸ‡³Taiwan
ðŸŽ¥ ð‘«ð’Šð’”ð’ð’†ð’š+ = select, ðŸ‡­ðŸ‡°Hong Kong, ðŸ‡¸ðŸ‡¬Singapore
ðŸŽ¥ ð‘µð’†ð’•ð’‡ð’ð’Šð’™ = select, ðŸ‡­ðŸ‡°Hong Kong, ðŸ‡¨ðŸ‡³Taiwan, ðŸ‡¸ðŸ‡¬Singapore, ðŸ‡¯ðŸ‡µJapan, ðŸ‡ºðŸ‡¸United States
ðŸŽ ð‘ºð’‘ð’†ð’†ð’…ð’•ð’†ð’”ð’• = select, ðŸ¼ Mainland, ð€ð®ð­ð¨ð¦ðšð­ð¢ðœ, ð€ð¥ð¥ð’ðžð«ð¯ðžð«
ðŸ“² ð‘»ð’†ð’ð’†ð’ˆð’“ð’‚ð’Ž = load-balance, ðŸ‡¸ðŸ‡¬Singapore, persistent=1
ðŸ“¹ ð’€ð’ð’–ð‘»ð’–ð’ƒð’† = select, ð€ð®ð­ð¨ð¦ðšð­ð¢ðœ, ðŸ‡­ðŸ‡°Hong Kong, ðŸ‡¨ðŸ‡³Taiwan, ðŸ‡¸ðŸ‡¬Singapore, ðŸ‡¯ðŸ‡µJapan, ðŸ‡ºðŸ‡¸United States
ðŸ§£ ð‘¾ð’†ð’Šð’ƒð’ = select, ðŸ¼ Mainland, ðŸ‡­ðŸ‡°Hong Kong, ðŸ‡¨ðŸ‡³Taiwan, ðŸ‡¸ðŸ‡¬Singapore, ðŸ‡¯ðŸ‡µJapan, ðŸ‡ºðŸ‡¸United States, ð€ð¥ð¥ð’ðžð«ð¯ðžð«

[Rule]
# ban UDP on Youtube
AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP
# ban National Anti-fraud Center
DOMAIN,prpr.96110.cn.com,DIRECT
DOMAIN-KEYWORD,96110,REJECT
DOMAIN-SUFFIX,gjfzpt.cn,REJECT
# > Vercel --> sub-store
DOMAIN-SUFFIX,vercel.app,ðð«ð¨ð±ð²
# > Direct(Google|Proxy|Download|Spotify)
RULE-SET,https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Direct.list,DIRECT
# > Mail
DOMAIN-SUFFIX,smtp,DIRECT
URL-REGEX,(Subject|HELO|SMTP),DIRECT

# ------Rulesets (è§„åˆ™é›†ï¼‰------
# åˆ é™¤æ³¨é‡Šç¬¦å· â€œ#â€ â€œ;â€ å³å¯å¯ç”¨æ­¤è§„åˆ™ã€‚
# > Advertising (å¹¿å‘Š)
RULE-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/AdvertisingLite/AdvertisingLite.list,REJECT-TINYGIF
DOMAIN-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/AdvertisingLite/AdvertisingLite_Domain.list,REJECT-TINYGIF
# > Privacy (éšç§)
#RULE-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy.list,REJECT
#DOMAIN-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy_Domain.list,REJECT
# > Hijacking (è¿è¥å•†åŠ«æŒæˆ–æ¶æ„ç½‘ç«™)
RULE-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hijacking/Hijacking.list,REJECT
# > ðŸ†• Anti-IPCheck é˜»æ–­å¤§é™†appçš„ipæŸ¥è¯¢
RULE-SET,https://raw.githubusercontents.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Anti-IPCheck.list,ðð«ð¨ð±ð²

# > æµåª’ä½“
RULE-SET,https://raw.githubusercontents.com/dler-io/Rules/main/Surge/Surge%203/Provider/Media/Bilibili.list,ðŸ“º ð’ƒð’Šð’ð’Šð’ƒð’Šð’ð’Š
RULE-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,ðŸŽ¥ ð‘«ð’Šð’”ð’ð’†ð’š+
RULE-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,ðŸŽ¥ ð‘µð’†ð’•ð’‡ð’ð’Šð’™
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AbemaTV/AbemaTV.list,ðŸ‡¯ðŸ‡µJapan //AbemaTV
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Peacock/Peacock.list,ðŸ‡ºðŸ‡¸United States //Peacock
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/HBOUSA/HBOUSA.list,ðŸ‡ºðŸ‡¸United States // HBO NOW && HBO MAX

# > Speedtest
RULE-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/Speedtest/Speedtest.list,ðŸŽ ð‘ºð’‘ð’†ð’†ð’…ð’•ð’†ð’”ð’•
# > Apple
RULE-SET,https://raw.githubusercontents.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Apple_Direct.list,DIRECT
RULE-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Clash/AppleNews/AppleNews.list,ðŸ‡ºðŸ‡¸United States
RULE-SET,https://raw.githubusercontents.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Apple_Proxy.list,ðð«ð¨ð±ð²
RULE-SET,https://raw.githubusercontents.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/iCloudPrivateRelay.list,ðð«ð¨ð±ð² // iCloud Private Relayï¼šMacOSä¸Šçš„Surgeç½‘å…³æ‰èƒ½ç”¨ iOSä¸éœ€è¦è¯·ç¦ç”¨ã€‚
RULE-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,ï£¿ ð‘¨ð’‘ð’‘ð’ð’†
# > ðŸ†• WeChat
#RULE-SET,https://raw.githubusercontents.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/WeChat.list,ðŸ‡¸ðŸ‡¬Singapore
# > TikTok
RULE-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,ðŸ‡¨ðŸ‡³Taiwan
# > YouTube
RULE-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,ðŸ“¹ ð’€ð’ð’–ð‘»ð’–ð’ƒð’†
RULE-SET,https://raw.githubusercontents.com/blackmatrix7/ios_rule_script/master/rule/Surge/GoogleSearch/GoogleSearch.list,ðŸ“¹ ð’€ð’ð’–ð‘»ð’–ð’ƒð’†
# > Telegram
RULE-SET,https://raw.githubusercontents.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Telegram.list,ðŸ“² ð‘»ð’†ð’ð’†ð’ˆð’“ð’‚ð’Ž
# > Global
RULE-SET,https://raw.githubusercontents.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,ðð«ð¨ð±ð²
# > China
RULE-SET,https://raw.githubusercontents.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,DIRECT
# > Local Area Network å±€åŸŸç½‘
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,127.0.0.0/8,DIRECT
IP-CIDR,100.64.0.0/10,DIRECT
IP-CIDR,224.0.0.0/4,DIRECT
RULE-SET,LAN,DIRECT
# > ASN China
RULE-SET,https://raw.githubusercontents.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list,DIRECT
# > Final 
FINAL,ðŸ³ï¸â€âš§ï¸,dns-failed

[Host]
# > è¯¥æ®µå®šä¹‰æœ¬åœ° DNS è®°å½•
# > è¯¥åŠŸèƒ½ç­‰åŒäºŽ /etc/hostsï¼ŒåŠ ä¸Šäº†æ³›è§£æžå’Œåˆ«åæ”¯æŒã€‚
# > Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# ===============================================================================
# è¯¥æ®µå®šä¹‰é’ˆå¯¹ HTTP è¯·æ±‚çš„ URL é‡å®šå‘è§„åˆ™

[URL Rewrite]
# > æœ‰ä¸¤ç§é‡å®šå‘æ–¹å¼: 'header' å’Œ '302'
# > å»ºè®®ç”¨æ¨¡å— header
# > ReDIRECT Google Search Service
^(http|https):\/\/(www.)?(g|google)\.cn https://www.google.com 302
# AbeamTV Unlock header
^https?:\/\/api\.abema\.io\/v\d\/ip\/check - reject
# ReDIRECT Google Service
^https?:\/\/(www.)?g\.cn https://www.google.com 302
^https?:\/\/(www.)?google\.cn https://www.google.com 302
# ReDIRECT HTTP to HTTPS
^https?:\/\/(www.)?taobao\.com\/ https://www.taobao.com/ 302
^https?:\/\/(www.)?jd\.com\/ https://www.jd.com/ 302
^https?:\/\/(www.)?mi\.com\/ https://www.mi.com/ 302
^https?:\/\/you\.163\.com\/ https://you.163.com/ 302
^https?:\/\/(www.)?suning\.com/ https://suning.com/ 302
^https?:\/\/(www.)?yhd\.com https://yhd.com/ 302
# ===============================================================================

[MITM]
skip-server-cert-verify = true
tcp-connection = true
h2 = true
hostname = %APPEND% *.abema.tv, *.chelaile.net.cn, *.didistatic.com, *.google-analytics.com, *.googlevideo.com, *.iydsj.com, *.k.sohu.com, *.kfc.com, *.kingsoft-office-service.com, *.meituan.net, *.ofo.com, *.pixiv.net, *.pstatp.com, *.rixcloudservice.com, *.uve.weibo.com, *.wikipedia.org, *.wikiwand.com, *.ydstatic.com, *.youdao.com, *.youtube.com, *.zhuishushenqi.com, 119.18.193.135, 123.59.31.1, 153.3.236.81, 180.101.212.22, 218.11.3.70, 59.151.53.6, a.apicloud.com, a.applovin.com, a.qiumibao.com, a.sfansclub.com, a.wkanx.com, abema.tv, acs.m.taobao.com, act.vip.iqiyi.com, adse.ximalaya.com, api*.musical.ly, api*.tiktokv.com, api-release.wuta-cam.com, api.abema.io, api.bilibili.com, api.daydaycook.com.cn, api.gotokeep.com, api.intsig.net, api.jr.mi.com, api.jxedt.com, api.kkmh.com, api.m.jd.com, api.mgzf.com, api.psy-1.com, api.rr.tv, api.smzdm.com, api.tv.sohu.com, api.wallstreetcn.com, api.weibo.cn, api.xiachufang.com, api.zhihu.com, api.zhuishushenqi.com, api5.futunn.com, app.10086.cn, app.58.com, app.api.ke.com, app.bilibili.com, app.mixcapp.com, app.variflight.com, app.wy.guahao.com, b.zhuishushenqi.com, c.m.163.com, cap.caocaokeji.cn, capi.mwee.cn, cdn.moji.com, channel.beitaichufang.com, client.mail.163.com, cms.daydaycook.com.cn, dspsdk.abreader.com, fdfs.xmcdn.com, gateway.shouqiev.com, gw-passenger.01zhuanche.com, gw.alicdn.com, huichuan.sm.cn, i.weread.qq.com, i.ys7.com, iapi.bishijie.com, iface.iqiyi.com, img*.doubanio.com, img.jiemian.com, interface.music.163.com, ios.wps.cn, m*.amap.com, m.client.10010.com, m.creditcard.ecitic.com, m.ibuscloud.com, m.yap.yahoo.com, mapi.mafengwo.cn, mapi.weibo.com, media.qyer.com, mi.gdt.qq.com, mob.mddcloud.com.cn, mobile-api2011.elong.com, mp.weixin.qq.com, mrobot.pcauto.com.cn, mrobot.pconline.com.cn, ms.jr.jd.com, msspjh.emarbox.com, newsso.map.qq.com, nnapp.cloudbae.cn, open.qyer.com, portal-xunyou.qingcdn.com, pss.txffp.com, r.inews.qq.com, render.alipay.com, res-release.wuta-cam.com, richmanapi.jxedt.com, service.4gtv.tv, smkmp.96225.com, snailsleep.net, sp.kaola.com, ssl.kohsocialapp.qq.com, static.vuevideo.net, static1.keepcdn.com, support.you.163.com, thor.weidian.com, www.dandanzan.com, www.flyertea.com, www.zhihu.com, youtubei.googleapis.com, zhidao.baidu.com, *.music.163.com, *.music.126.net, music.163.com, music.126.net, api.weibo.cn, mapi.weibo.com, *.uve.weibo.com, ios.prod.ftl.netflix.com, trade-acs.m.taobao.com, api.gotokeep.com, *.oxygenplaza.net, sub.store, 
# ===============================================================================
# ä½¿ç”¨ JavaScript æ¥å¯¹ä¿®æ”¹è¯·æ±‚ä½“ã€å“åº”ä½“ã€å®šæ—¶æ‰§è¡Œè„šæœ¬ã€ç‰¹å®šäº‹ä»¶æ‰§è¡Œè„šæœ¬ã€è§„åˆ™åˆ¤å®šã€policy-groupåˆ¤å®šã€æ‰§è¡ŒDNSè§£æžç­‰

[Script]
# > Sub-Store
Sub-Store Core=type=http-request,pattern=^https?:\/\/sub\.store\/((download)|api\/(preview|sync|(utils\/node-info))),script-path=https://git.iqiq.io/sub-store-org/Sub-Store/releases/latest/download/sub-store-1.min.js,requires-body=true,timeout=120,ability=http-client-policy
Sub-Store Simple=type=http-request,pattern=^https?:\/\/sub\.store,script-path=https://git.iqiq.io/sub-store-org/Sub-Store/releases/latest/download/sub-store-0.min.js,requires-body=true
Sub-Store Sync=type=cron,cronexp=0 0 * * *,wake-system=1,timeout=120,script-path=https://git.iqiq.io/sub-store-org/Sub-Store/releases/latest/download/cron-sync-artifacts.min.js
# > BoxJs
Rewrite: BoxJs = type=http-request,pattern=https?:\/\/boxjs\.(com|net),script-path=https://raw.githubusercontents.com/chavyleung/scripts/master/box/chavy.boxjs.js, requires-body=true, timeout=120

